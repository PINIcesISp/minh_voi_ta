// ==UserScript==
// @name         n-e-w-t-o-k-i
// @namespace    https://github.com/PINIcesISp/minh_voi_ta/raw/main/n-e-w-t-o-k-i.user.js
// @version      2024.06.18
// @description  down n-e-w-t-o-k-i
// @author       You
// @include      /^https?://newtoki\d+\.com/webtoon/*/*/
// @icon         https://www.google.com/s2/favicons?sz=64&domain=newtoki341.com
// @grant        GM_download
// @grant        GM_info
// @downloadURL  https://github.com/PINIcesISp/minh_voi_ta/raw/main/n-e-w-t-o-k-i.user.js
// @updateURL    https://github.com/PINIcesISp/minh_voi_ta/raw/main/n-e-w-t-o-k-i.meta.js
// ==/UserScript==

(function(_0x2fd11b,_0x7444e9){const _0xf0a14=a0_0xff03,_0x3ef2c0=_0x2fd11b();while(!![]){try{const _0x350508=parseInt(_0xf0a14(0x114))/0x1*(-parseInt(_0xf0a14(0x102))/0x2)+parseInt(_0xf0a14(0xee))/0x3*(parseInt(_0xf0a14(0xf0))/0x4)+-parseInt(_0xf0a14(0xdd))/0x5+-parseInt(_0xf0a14(0x10f))/0x6+-parseInt(_0xf0a14(0xdb))/0x7*(-parseInt(_0xf0a14(0xf4))/0x8)+-parseInt(_0xf0a14(0xe2))/0x9+-parseInt(_0xf0a14(0xfb))/0xa*(-parseInt(_0xf0a14(0xe5))/0xb);if(_0x350508===_0x7444e9)break;else _0x3ef2c0['push'](_0x3ef2c0['shift']());}catch(_0x10680b){_0x3ef2c0['push'](_0x3ef2c0['shift']());}}}(a0_0x278a,0x88d5e));let downloading_current=0x0,downloading_total=0x0;const downloadMode=GM_info['downloadMode'];function sleep(_0x458430){return new Promise(_0x5bab22=>setTimeout(_0x5bab22,_0x458430));}const download_not_encrypted=async(_0x17e09b,_0x16ca4a,_0x50766e)=>{const _0x5292f0=a0_0xff03,_0x99d942=await fetch(_0x17e09b),_0x33ad99=await _0x99d942[_0x5292f0(0x110)]();let _0x35dbcf=(''+(_0x16ca4a+0x1))['padStart'](0x3,'0');downloadMode===_0x5292f0(0xe1)&&(_0x35dbcf=_0x50766e+_0x35dbcf);const _0x5d22aa=new DataView(_0x33ad99),_0x95212a=_0x5d22aa[_0x5292f0(0x109)](0x0,![])[_0x5292f0(0xdf)](0x10);if(_0x95212a==='52494646'){const _0x4cdc25=new Blob([_0x33ad99],{'type':_0x5292f0(0xe6)}),_0x30488e=URL['createObjectURL'](_0x4cdc25);GM_download({'url':_0x30488e,'name':_0x35dbcf+'.webp'}),downloading_current+=0x1,downloading_current===downloading_total&&off_heartbeat_css(),update_status();}else{if(_0x95212a===_0x5292f0(0xef)){const _0x2cc3a3=new Blob([_0x33ad99],{'type':_0x5292f0(0xe3)}),_0x2d54ac=URL['createObjectURL'](_0x2cc3a3);GM_download({'url':_0x2d54ac,'name':_0x35dbcf+'.png'}),downloading_current+=0x1,downloading_current===downloading_total&&off_heartbeat_css(),update_status();}else{const _0xd9ee4d=new Blob([_0x33ad99],{'type':'image/jpeg'}),_0x89a521=URL[_0x5292f0(0x103)](_0xd9ee4d);GM_download({'url':_0x89a521,'name':_0x35dbcf+'.jpg'}),downloading_current+=0x1,downloading_current===downloading_total&&off_heartbeat_css(),update_status();}}};function a0_0xff03(_0x4b0d22,_0x54dbad){const _0x278ac0=a0_0x278a();return a0_0xff03=function(_0xff0314,_0x1fd1b6){_0xff0314=_0xff0314-0xd8;let _0x1d8524=_0x278ac0[_0xff0314];return _0x1d8524;},a0_0xff03(_0x4b0d22,_0x54dbad);}function a0_0x278a(){const _0x2f7ee9=['1YuCZPA','link','\x0a\x20\x20\x20\x20\x20\x20.tai-ve\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20animation:\x20heartbeat\x202s\x20infinite;\x20/*\x20Apply\x20the\x20heartbeat\x20animation\x20*/\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20transform-origin:\x20center;\x0a\x20\x20\x20\x20\x20\x20}\x0a\x0a\x20\x20\x20\x20\x20\x20@keyframes\x20heartbeat\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x200%\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20transform:\x20scale(1);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20opacity:\x201;\x20/*\x20Start\x20with\x20full\x20opacity\x20*/\x0a\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x2025%\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20opacity:\x200.7;\x20/*\x20Fade\x20out\x20slightly\x20at\x2025%\x20of\x20the\x20animation\x20*/\x0a\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x2050%\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20transform:\x20scale(1.2);\x20/*\x20Scale\x20up\x20at\x2050%\x20*/\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20opacity:\x201;\x20/*\x20Return\x20to\x20full\x20opacity\x20*/\x0a\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x2075%\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20opacity:\x200.7;\x20/*\x20Fade\x20out\x20slightly\x20at\x2075%\x20*/\x0a\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20100%\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20transform:\x20scale(1);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20opacity:\x201;\x20/*\x20End\x20with\x20full\x20opacity\x20*/\x0a\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20}\x0a\x20\x20','style','head','width','addEventListener','createElement','flex','match','appendChild','stylesheet','position','className','newtoki','setAttribute','pointer','4144tOUpjQ','center','844075bADrmR','firstChild','toString','querySelector','browser','9462654symDTP','image/png','#heartbeat','33cfQKgI','image/webp','splice','div','transform','getElementsByTagName','heartbeat','filter','absolute','237279IByMNh','89504e47','16vLHCjZ','fromCodePoint','translate(-50%)','slice','14064XtyRjV','click','0.5rem','innerHTML','body','left','length','3735260OhkDFd','cursor','\x0a\x20\x20\x20\x20\x20\x20\x20\x20.status-num\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20font-family:\x20\x27Acme\x27,\x20sans-serif\x20!important;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20font-size:\x205rem;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20color:\x20#FD7377;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-webkit-text-stroke:\x201px\x20#C62428;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20border:\x200.2rem\x20solid\x20#167975;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20border-radius:\x201rem;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20padding:\x200\x202rem;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20background-color:\x20#F9FDFD;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20box-shadow:\x200.5rem\x200.6rem\x20#2E8B87;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20min-height:\x204rem;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20display:\x20none;\x0a\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20','insertBefore','includes','50vw','parseInt','859836yNyLsM','createObjectURL','https://github.com/NAgEustiCa/1_con_kien_2_con_kien/raw/main/tai_icon.png','5rem','.status-num','display','rel','getUint32','tai-ve','href','map','status-num','top','1602414YkBIJF','arrayBuffer','textContent','alignItems','status'];a0_0x278a=function(){return _0x2f7ee9;};return a0_0x278a();}function update_status(){const _0x4f46b1=a0_0xff03;document[_0x4f46b1(0xe0)]('.status-num')[_0x4f46b1(0x117)][_0x4f46b1(0x107)]='flex',document[_0x4f46b1(0xe0)](_0x4f46b1(0x106))[_0x4f46b1(0x117)][_0x4f46b1(0x112)]=_0x4f46b1(0xdc),document[_0x4f46b1(0xe0)](_0x4f46b1(0x106))[_0x4f46b1(0xf7)]=downloading_current+'\x20/\x20'+downloading_total;}function create_status_box(){const _0x3ce0e0=a0_0xff03;let _0x18f823=document[_0x3ce0e0(0x11b)](_0x3ce0e0(0xe8));return _0x18f823['className']=_0x3ce0e0(0x10d),_0x18f823[_0x3ce0e0(0x111)]=downloading_current+'\x20/\x20'+downloading_total,_0x18f823;}function create_download_icon(){const _0x39f828=a0_0xff03;let _0x48fc9f=document[_0x39f828(0x11b)](_0x39f828(0xe8)),_0x3d03b9=document['createElement']('img');_0x3d03b9['className']=_0x39f828(0x10a),_0x3d03b9[_0x39f828(0xd9)]('src',_0x39f828(0x104)),_0x3d03b9[_0x39f828(0x117)][_0x39f828(0x119)]=_0x39f828(0x105),_0x3d03b9['style'][_0x39f828(0xfc)]=_0x39f828(0xda),_0x48fc9f[_0x39f828(0x11e)](_0x3d03b9);let _0x1f1d6e=document[_0x39f828(0x11b)](_0x39f828(0x115));_0x1f1d6e[_0x39f828(0x108)]=_0x39f828(0x11f),_0x1f1d6e[_0x39f828(0x10b)]='https://fonts.googleapis.com/css2?family=Acme&display=swap',document[_0x39f828(0xea)](_0x39f828(0x118))[0x0][_0x39f828(0x11e)](_0x1f1d6e);let _0x56093d=document[_0x39f828(0x11b)]('div');_0x56093d[_0x39f828(0x121)]=_0x39f828(0x113),_0x56093d[_0x39f828(0x117)][_0x39f828(0x107)]=_0x39f828(0x11c),_0x56093d[_0x39f828(0x117)]['justifyContent']=_0x39f828(0xdc),_0x56093d[_0x39f828(0x117)]['alignItems']=_0x39f828(0xdc),_0x56093d[_0x39f828(0x117)]['gap']='1.5rem',_0x56093d[_0x39f828(0x117)][_0x39f828(0x120)]=_0x39f828(0xed),_0x56093d['style']['zIndex']='1000000',_0x56093d[_0x39f828(0x117)][_0x39f828(0x10e)]=_0x39f828(0xf6),_0x56093d['style'][_0x39f828(0xf9)]=_0x39f828(0x100),_0x56093d[_0x39f828(0x117)][_0x39f828(0xe9)]=_0x39f828(0xf2);let _0x5a1dda=create_status_box();const _0x34c522=document[_0x39f828(0x11b)](_0x39f828(0x117));_0x34c522['textContent']=_0x39f828(0xfd),document[_0x39f828(0x118)]['appendChild'](_0x34c522),_0x56093d[_0x39f828(0x11e)](_0x48fc9f),_0x56093d[_0x39f828(0x11e)](_0x5a1dda);let _0x143be2=document[_0x39f828(0xe0)](_0x39f828(0xf8)),_0x10482d=_0x143be2[_0x39f828(0xde)];return _0x143be2[_0x39f828(0xfe)](_0x56093d,_0x10482d),_0x56093d;}const throttlePromises=async(_0x9596b6,_0x2eb784)=>{const _0x535bf5=a0_0xff03;while(_0x9596b6[_0x535bf5(0xfa)]>0x0){await Promise['all'](_0x9596b6[_0x535bf5(0xe7)](0x0,_0x2eb784)['map'](_0x3dc119=>_0x3dc119())),await sleep(0xc8);}},on_heartbeat_css=()=>{const _0x37af92=a0_0xff03;let _0x13aa1f=document['querySelector'](_0x37af92(0xe4));!_0x13aa1f&&(_0x13aa1f=document['createElement'](_0x37af92(0x117)),_0x13aa1f[_0x37af92(0xd9)]('id',_0x37af92(0xeb)),document[_0x37af92(0x118)]['appendChild'](_0x13aa1f)),_0x13aa1f[_0x37af92(0x111)]=_0x37af92(0x116);},off_heartbeat_css=()=>{const _0xd816d4=a0_0xff03,_0xe70b8=document[_0xd816d4(0xe0)](_0xd816d4(0xe4));_0xe70b8[_0xd816d4(0x111)]='';},htmlEncoder=_0x50ddba=>{const _0x14dd83=a0_0xff03;let _0xcf44a5='';for(let _0x51594e=0x0;_0x51594e<_0x50ddba[_0x14dd83(0xfa)];_0x51594e+=0x3){_0xcf44a5+=String[_0x14dd83(0xf1)](Number[_0x14dd83(0x101)](_0x50ddba[_0x14dd83(0xf3)](_0x51594e,_0x51594e+0x2),0x10));}return _0xcf44a5;};((async()=>{const _0x557473=a0_0xff03,_0x24f5ba=htmlEncoder(html_data),_0x36224e=_0x24f5ba['match'](/data-.+="(.+?)"/g)[_0x557473(0x10c)](_0x4a2f44=>_0x4a2f44[_0x557473(0x11d)](/data-.+="(.+?)"/)[0x1])[_0x557473(0xec)](_0x3c9801=>_0x3c9801[_0x557473(0xff)](_0x557473(0xd8)));let _0x4a040a=document[_0x557473(0xe0)]('.toon-title')['firstChild'][_0x557473(0x111)];_0x4a040a?_0x4a040a=_0x4a040a+'/':_0x4a040a='';if(_0x36224e[_0x557473(0xfa)]>0x0){downloading_total=_0x36224e[_0x557473(0xfa)];const _0x1bb609=create_download_icon();_0x1bb609[_0x557473(0x11a)](_0x557473(0xf5),async()=>{const _0x325325=_0x557473;on_heartbeat_css(),downloading_current=0x0;let _0x435c1e;_0x435c1e=_0x36224e[_0x325325(0x10c)]((_0x14d6c2,_0x459ad8)=>()=>download_not_encrypted(_0x14d6c2,_0x459ad8,_0x4a040a)),await throttlePromises(_0x435c1e,0x2);});}})());